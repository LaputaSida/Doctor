<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>掃描QRcode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--PhoneGap APIs-->
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<script src="cordova.js"></script>
<script language="JavaScript">
var text="";
var format="";
var cancelled="";

function test(a){
$.post( "http://120.105.161.191/rehabilitation_scheduling/test.PHP",{id:a}, function( data ) {	
          alert(data);
	});
}
var name;
var value;

</script>
</head>
<body>
<script type="text/javascript" src="cordova.js"></script>
<!--<button onClick="openScanner()">掃描QRcode</button>-->
<div class="w3-button w3-margin-bottom w3-center" id="QR">
<h3 class="w3-col w3-navbar w3-white w3-wide w3-padding-8 w3-card-2" onClick="openScanner()">
<a href="" class="w3-center">掃描QRcode</a>
</h3>

</div>
<script>
function scan()
{
	cordova.plugins.barcodeScanner.scan(
		function (result) {
			if(!result.cancelled)
			{
				if(result.format == "QR_CODE")
				{
					navigator.notification.prompt("Please enter name of data",  function(input){
						 name = input.input1;
						 value = result.text;
						alert(name+"\n"+value);
					});
				}
			}
		},
		function (error) {
			alert("Scanning failed: " + error);
		}
   );
}
scan();

</script>
</body>
</html>