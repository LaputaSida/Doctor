<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>掃描QRcode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--PhoneGap APIs-->
<script src="cordova.js"></script>
<!--這裡是jquery.mobile的 三排 要下載 -->
	<link rel=stylesheet href="jquery.mobile-1.4.5/jquery.mobile-1.4.5.css">
<!--這是jquery 1.8 -->
	<script src="jquery.mobile-1.4.5/jquery.js"></script>
	<script src="jquery.mobile-1.4.5/jquery.mobile-1.4.5.js"></script>
<script language="JavaScript">
/*
alert("We got a barcode\n" +
"Result: " + result.text (內容) + "\n" +
"Format: " + result.format (條碼型態) + "\n" +
"Cancelled: " + result.cancelled(是否取消) );*/
var name;
var value;
function scan()
{
	cordova.plugins.barcodeScanner.scan(
		function (result) {
			if(!result.cancelled)
			{
				if(result.format == "QR_CODE")
				{
					navigator.notification.prompt("Please enter name of data",  function(input){
						 name = input.input1;
						 value = result.text;
						alert(name+"\n"+value);
					});
				}
			}
		},
		function (error) {
			alert("Scanning failed: " + error);
		}
   );
}
</script>
</head>
<body>
<script type="text/javascript" src="cordova.js"></script>
<button onClick="scan()">掃描QRcode</button>
<div id="QR"></div>
</body>
</html>